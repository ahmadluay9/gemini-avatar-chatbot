2025-05-28 05:18:07,085 INFO root : Logging configured to save to file and console. [in /home/luay9/gemini-visual-agent/app.py:62]
2025-05-28 05:18:07,132 INFO root : Google Cloud clients initialized successfully. [in /home/luay9/gemini-visual-agent/app.py:76]
2025-05-28 05:18:07,133 INFO root : DATASTORE_PATH is configured: projects/eikon-dev-ai-team/locations/global/collections/default_collection/dataStores/test-datastore_1744718302529 [in /home/luay9/gemini-visual-agent/app.py:375]
2025-05-28 05:18:07,134 INFO root : Created 'uploads' directory. [in /home/luay9/gemini-visual-agent/app.py:385]
2025-05-28 05:18:07,150 INFO werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.184.0.2:5001 [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:18:07,151 INFO werkzeug : [33mPress CTRL+C to quit[0m [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:18:07,155 INFO werkzeug :  * Restarting with watchdog (inotify) [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:18:08,020 INFO root : Logging configured to save to file and console. [in /home/luay9/gemini-visual-agent/app.py:62]
2025-05-28 05:18:08,066 INFO root : Google Cloud clients initialized successfully. [in /home/luay9/gemini-visual-agent/app.py:76]
2025-05-28 05:18:08,067 INFO root : DATASTORE_PATH is configured: projects/eikon-dev-ai-team/locations/global/collections/default_collection/dataStores/test-datastore_1744718302529 [in /home/luay9/gemini-visual-agent/app.py:375]
2025-05-28 05:18:08,075 WARNING werkzeug :  * Debugger is active! [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:18:08,075 INFO werkzeug :  * Debugger PIN: 748-642-060 [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:31:30,773 INFO root : Logging configured to save to file and console. [in /home/luay9/gemini-visual-agent/app.py:62]
2025-05-28 05:31:30,921 INFO root : Google Cloud clients initialized successfully. [in /home/luay9/gemini-visual-agent/app.py:76]
2025-05-28 05:31:30,923 INFO root : DATASTORE_PATH is configured: projects/eikon-dev-ai-team/locations/global/collections/default_collection/dataStores/test-datastore_1744718302529 [in /home/luay9/gemini-visual-agent/app.py:375]
2025-05-28 05:31:30,954 INFO werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.184.0.2:5001 [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:31:30,955 INFO werkzeug : [33mPress CTRL+C to quit[0m [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:31:30,970 INFO werkzeug :  * Restarting with watchdog (inotify) [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:31:32,112 INFO root : Logging configured to save to file and console. [in /home/luay9/gemini-visual-agent/app.py:62]
2025-05-28 05:31:32,158 INFO root : Google Cloud clients initialized successfully. [in /home/luay9/gemini-visual-agent/app.py:76]
2025-05-28 05:31:32,160 INFO root : DATASTORE_PATH is configured: projects/eikon-dev-ai-team/locations/global/collections/default_collection/dataStores/test-datastore_1744718302529 [in /home/luay9/gemini-visual-agent/app.py:375]
2025-05-28 05:31:32,167 WARNING werkzeug :  * Debugger is active! [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:31:32,235 INFO werkzeug :  * Debugger PIN: 589-958-601 [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:31:32,700 INFO werkzeug : 127.0.0.1 - - [28/May/2025 05:31:32] "GET / HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:31:32,734 INFO werkzeug : 127.0.0.1 - - [28/May/2025 05:31:32] "GET /static/style.css HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:31:32,780 INFO werkzeug : 127.0.0.1 - - [28/May/2025 05:31:32] "GET /static/script.js HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:31:42,611 INFO root : Attempting to create D-ID stream session... [in /home/luay9/gemini-visual-agent/app.py:230]
2025-05-28 05:31:45,878 INFO root : D-ID stream created: stream_id_for_path='strm_i7vV1-sXhjJ_k5ILS5XOA_EKS', session_id_for_body='AWSALB=EuARnM+etFqcWq93UUAUEioecJtQqSyPbvkaPkd2MkhAb6AWpBLP340lR8HsSFvL8qQUQnmd+3YNW7lq/vEm2IVdKkyb7vFaYAoM8Fzd9vfChE9BX80VWghm85Ej; Expires=Wed, 04 Jun 2025 05:31:44 GMT; Path=/; AWSALBCORS=EuARnM+etFqcWq93UUAUEioecJtQqSyPbvkaPkd2MkhAb6AWpBLP340lR8HsSFvL8qQUQnmd+3YNW7lq/vEm2IVdKkyb7vFaYAoM8Fzd9vfChE9BX80VWghm85Ej; Expires=Wed, 04 Jun 2025 05:31:44 GMT; Path=/; SameSite=None; Secure' [in /home/luay9/gemini-visual-agent/app.py:242]
2025-05-28 05:31:45,879 INFO werkzeug : 127.0.0.1 - - [28/May/2025 05:31:45] "POST /process_input HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:31:46,212 INFO root : SDP Submission: POST to D-ID URL: https://api.d-id.com/talks/streams/strm_i7vV1-sXhjJ_k5ILS5XOA_EKS/sdp with payload: {"session_id": "AWSALB=EuARnM+etFqcWq93UUAUEioecJtQqSyPbvkaPkd2MkhAb6AWpBLP340lR8HsSFvL8qQUQnmd+3YNW7lq/vEm2IVdKkyb7vFaYAoM8Fzd9vfChE9BX80VWghm85Ej; Expires=Wed, 04 Jun 2025 05:31:44 GMT; Path=/; AWSALBCORS=EuARnM+etFqcWq93UUAUEioecJtQqSyPbvkaPkd2MkhAb6AWpBLP340lR8HsSFvL8qQUQnmd+3YNW7lq/vEm2IVdKkyb7vFaYAoM8Fzd9vfChE9BX80VWghm85Ej; Expires=Wed, 04 Jun 2025 05:31:44 GMT; Path=/; SameSite=None; Secure", "answer": {"sdp": "v=0\r\no=- 950133771741973174 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE a v d\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:8D4N\r\na=ice-pwd:VkSi1gZtrFNzIAnsH9TvTKoR\r\na=ice-options:trickle\r\na=fingerprint:sha-256 7E:7F:7D:85:C6:26:EB:95:76:C1:F4:E2:A6:11:C6:A0:01:05:66:C0:4D:1D:2E:F3:DD:4E:19:8D:9C:EB:E9:23\r\na=setup:active\r\na=mid:a\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\nm=video 9 UDP/TLS/RTP/SAVPF 102 103\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:8D4N\r\na=ice-pwd:VkSi1gZtrFNzIAnsH9TvTKoR\r\na=ice-options:trickle\r\na=fingerprint:sha-256 7E:7F:7D:85:C6:26:EB:95:76:C1:F4:E2:A6:11:C6:A0:01:05:66:C0:4D:1D:2E:F3:DD:4E:19:8D:9C:EB:E9:23\r\na=setup:active\r\na=mid:v\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:102 H264/90000\r\na=rtcp-fb:102 goog-remb\r\na=rtcp-fb:102 transport-cc\r\na=rtcp-fb:102 ccm fir\r\na=rtcp-fb:102 nack\r\na=rtcp-fb:102 nack pli\r\na=fmtp:102 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:103 rtx/90000\r\na=fmtp:103 apt=102\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:8D4N\r\na=ice-pwd:VkSi1gZtrFNzIAnsH9TvTKoR\r\na=ice-options:trickle\r\na=fingerprint:sha-256 7E:7F:7D:85:C6:26:EB:95:76:C1:F4:E2:A6:11:C6:A0:01:05:66:C0:4D:1D:2E:F3:DD:4E:19:8D:9C:EB:E9:23\r\na=setup:active\r\na=mid:d\r\na=sctp-port:5000\r\n", "type": "answer"}} [in /home/luay9/gemini-visual-agent/app.py:284]
2025-05-28 05:31:46,875 INFO root : SDP answer submitted successfully to D-ID. Response: {'session_id': 'AWSALB=PqyuqkkPTLl0dfwNsUbheJg2TZvWyGa2eNOgjyJmq/Zni37oo4Ztsw5EzxhI589ETp6h2KzUNFUeKegwyJkIhjR22qro6Xrr1heZY1VquxdlTpO0TbFaT+Pyo8Jd; Expires=Wed, 04 Jun 2025 05:31:46 GMT; Path=/; AWSALBCORS=PqyuqkkPTLl0dfwNsUbheJg2TZvWyGa2eNOgjyJmq/Zni37oo4Ztsw5EzxhI589ETp6h2KzUNFUeKegwyJkIhjR22qro6Xrr1heZY1VquxdlTpO0TbFaT+Pyo8Jd; Expires=Wed, 04 Jun 2025 05:31:46 GMT; Path=/; SameSite=None; Secure'} [in /home/luay9/gemini-visual-agent/app.py:289]
2025-05-28 05:31:46,876 INFO werkzeug : 127.0.0.1 - - [28/May/2025 05:31:46] "POST /submit_sdp_answer HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 05:31:57,476 INFO root : Sending to Gemini: 'Hi' [in /home/luay9/gemini-visual-agent/app.py:140]
2025-05-28 05:31:57,477 INFO google_genai.models : AFC is enabled with max remote calls: 10. [in /home/luay9/.venv/lib/python3.9/site-packages/google/genai/models.py:4934]
2025-05-28 05:31:59,130 INFO httpx : HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/eikon-dev-ai-team/locations/us-central1/publishers/google/models/gemini-2.0-flash-001:generateContent "HTTP/1.1 200 OK" [in /home/luay9/.venv/lib/python3.9/site-packages/httpx/_client.py:1025]
2025-05-28 05:31:59,132 INFO google_genai.models : AFC remote call 1 is done. [in /home/luay9/.venv/lib/python3.9/site-packages/google/genai/models.py:4945]
2025-05-28 05:31:59,132 INFO root : Gemini response: Halo! Ada yang bisa saya bantu?
 [in /home/luay9/gemini-visual-agent/app.py:167]
2025-05-28 05:31:59,132 INFO root : Attempting to create D-ID stream session... [in /home/luay9/gemini-visual-agent/app.py:230]
2025-05-28 05:32:01,294 INFO root : D-ID stream created: stream_id_for_path='strm_AHBYxgguIRudjsdj5yo-z_EKS', session_id_for_body='AWSALB=6RGMEJrni3+wMOT4fGMamJQ48XDfkdOqOxq4jGMAeq5W7s8dZlflPmRRd9Nm8JU96wZ08PLq9kA/tHikgkHtdon5or++3ZJ/rVblp3mbV6xa3SpbREnJ6GntJOJu; Expires=Wed, 04 Jun 2025 05:32:00 GMT; Path=/; AWSALBCORS=6RGMEJrni3+wMOT4fGMamJQ48XDfkdOqOxq4jGMAeq5W7s8dZlflPmRRd9Nm8JU96wZ08PLq9kA/tHikgkHtdon5or++3ZJ/rVblp3mbV6xa3SpbREnJ6GntJOJu; Expires=Wed, 04 Jun 2025 05:32:00 GMT; Path=/; SameSite=None; Secure' [in /home/luay9/gemini-visual-agent/app.py:242]
2025-05-28 05:32:01,295 INFO werkzeug : 127.0.0.1 - - [28/May/2025 05:32:01] "POST /process_input HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:03:58,772 INFO werkzeug :  * Detected change in '/home/luay9/gemini-visual-agent/app.py', reloading [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:03:58,773 INFO werkzeug :  * Detected change in '/home/luay9/gemini-visual-agent/app.py', reloading [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:03:58,774 INFO werkzeug :  * Detected change in '/home/luay9/gemini-visual-agent/app.py', reloading [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:04:01,787 INFO werkzeug :  * Restarting with watchdog (inotify) [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:04:02,664 INFO root : Logging configured to save to file and console. [in /home/luay9/gemini-visual-agent/app.py:62]
2025-05-28 06:04:02,709 INFO root : Google Cloud clients initialized successfully. [in /home/luay9/gemini-visual-agent/app.py:76]
2025-05-28 06:04:02,711 INFO root : DATASTORE_PATH is configured: projects/eikon-dev-ai-team/locations/global/collections/default_collection/dataStores/test-datastore_1744718302529 [in /home/luay9/gemini-visual-agent/app.py:391]
2025-05-28 06:04:02,718 WARNING werkzeug :  * Debugger is active! [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:04:02,719 INFO werkzeug :  * Debugger PIN: 589-958-601 [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:04:17,811 INFO werkzeug :  * Detected change in '/home/luay9/gemini-visual-agent/app.py', reloading [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:04:17,812 INFO werkzeug :  * Detected change in '/home/luay9/gemini-visual-agent/app.py', reloading [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:04:17,814 INFO werkzeug :  * Detected change in '/home/luay9/gemini-visual-agent/app.py', reloading [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:04:20,284 INFO werkzeug :  * Restarting with watchdog (inotify) [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:04:21,131 INFO root : Logging configured to save to file and console. [in /home/luay9/gemini-visual-agent/app.py:62]
2025-05-28 06:04:21,175 INFO root : Google Cloud clients initialized successfully. [in /home/luay9/gemini-visual-agent/app.py:76]
2025-05-28 06:04:21,177 INFO root : DATASTORE_PATH is configured: projects/eikon-dev-ai-team/locations/global/collections/default_collection/dataStores/test-datastore_1744718302529 [in /home/luay9/gemini-visual-agent/app.py:391]
2025-05-28 06:04:21,184 WARNING werkzeug :  * Debugger is active! [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:04:21,184 INFO werkzeug :  * Debugger PIN: 589-958-601 [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:35,266 INFO root : Logging configured to save to file and console. [in /home/luay9/gemini-visual-agent/app.py:62]
2025-05-28 06:06:35,311 INFO root : Google Cloud clients initialized successfully. [in /home/luay9/gemini-visual-agent/app.py:76]
2025-05-28 06:06:35,313 INFO root : DATASTORE_PATH is configured: projects/eikon-dev-ai-team/locations/global/collections/default_collection/dataStores/test-datastore_1744718302529 [in /home/luay9/gemini-visual-agent/app.py:391]
2025-05-28 06:06:35,331 INFO werkzeug : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.184.0.2:5001 [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:35,331 INFO werkzeug : [33mPress CTRL+C to quit[0m [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:35,335 INFO werkzeug :  * Restarting with watchdog (inotify) [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:36,230 INFO root : Logging configured to save to file and console. [in /home/luay9/gemini-visual-agent/app.py:62]
2025-05-28 06:06:36,275 INFO root : Google Cloud clients initialized successfully. [in /home/luay9/gemini-visual-agent/app.py:76]
2025-05-28 06:06:36,277 INFO root : DATASTORE_PATH is configured: projects/eikon-dev-ai-team/locations/global/collections/default_collection/dataStores/test-datastore_1744718302529 [in /home/luay9/gemini-visual-agent/app.py:391]
2025-05-28 06:06:36,284 WARNING werkzeug :  * Debugger is active! [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:36,285 INFO werkzeug :  * Debugger PIN: 589-958-601 [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:36,676 INFO werkzeug : 127.0.0.1 - - [28/May/2025 06:06:36] "GET / HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:36,706 INFO werkzeug : 127.0.0.1 - - [28/May/2025 06:06:36] "[36mGET /static/style.css HTTP/1.1[0m" 304 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:36,797 INFO werkzeug : 127.0.0.1 - - [28/May/2025 06:06:36] "GET /static/script.js HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:40,799 INFO root : Sending to Gemini: 'Berikan sapaan singkat untuk memulai percakapan.' [in /home/luay9/gemini-visual-agent/app.py:140]
2025-05-28 06:06:40,800 INFO google_genai.models : AFC is enabled with max remote calls: 10. [in /home/luay9/.venv/lib/python3.9/site-packages/google/genai/models.py:4934]
2025-05-28 06:06:42,605 INFO httpx : HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/eikon-dev-ai-team/locations/us-central1/publishers/google/models/gemini-2.0-flash-001:generateContent "HTTP/1.1 200 OK" [in /home/luay9/.venv/lib/python3.9/site-packages/httpx/_client.py:1025]
2025-05-28 06:06:42,606 INFO google_genai.models : AFC remote call 1 is done. [in /home/luay9/.venv/lib/python3.9/site-packages/google/genai/models.py:4945]
2025-05-28 06:06:42,607 INFO root : Gemini response: Halo! Selamat datang, ada yang bisa saya bantu?
 [in /home/luay9/gemini-visual-agent/app.py:167]
2025-05-28 06:06:42,607 INFO root : Attempting to create D-ID stream session for initial connection... [in /home/luay9/gemini-visual-agent/app.py:215]
2025-05-28 06:06:44,855 INFO root : D-ID stream created: stream_id_for_path='strm_K1L-F6HBQcFLLsKkknGxk_EKS', session_id_for_body='AWSALB=ffC+u3jsmb1+38TxZ2pG2Fw3vmBVGK+q2S3qU89BPNHUfnbxGs05lVas5QYOgRyeV01lyaSP7lpQrCqaPZOAEDwGZGBBAUUjUFsbyX9SoWwcwRLQnZ0BK17G+V8U; Expires=Wed, 04 Jun 2025 06:06:43 GMT; Path=/; AWSALBCORS=ffC+u3jsmb1+38TxZ2pG2Fw3vmBVGK+q2S3qU89BPNHUfnbxGs05lVas5QYOgRyeV01lyaSP7lpQrCqaPZOAEDwGZGBBAUUjUFsbyX9SoWwcwRLQnZ0BK17G+V8U; Expires=Wed, 04 Jun 2025 06:06:43 GMT; Path=/; SameSite=None; Secure' [in /home/luay9/gemini-visual-agent/app.py:227]
2025-05-28 06:06:44,856 INFO werkzeug : 127.0.0.1 - - [28/May/2025 06:06:44] "POST /initiate_did_stream HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:45,039 INFO root : SDP Submission: POST to D-ID URL: https://api.d-id.com/talks/streams/strm_K1L-F6HBQcFLLsKkknGxk_EKS/sdp with payload: {"session_id": "AWSALB=ffC+u3jsmb1+38TxZ2pG2Fw3vmBVGK+q2S3qU89BPNHUfnbxGs05lVas5QYOgRyeV01lyaSP7lpQrCqaPZOAEDwGZGBBAUUjUFsbyX9SoWwcwRLQnZ0BK17G+V8U; Expires=Wed, 04 Jun 2025 06:06:43 GMT; Path=/; AWSALBCORS=ffC+u3jsmb1+38TxZ2pG2Fw3vmBVGK+q2S3qU89BPNHUfnbxGs05lVas5QYOgRyeV01lyaSP7lpQrCqaPZOAEDwGZGBBAUUjUFsbyX9SoWwcwRLQnZ0BK17G+V8U; Expires=Wed, 04 Jun 2025 06:06:43 GMT; Path=/; SameSite=None; Secure", "answer": {"sdp": "v=0\r\no=- 7497037917260928570 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE a v d\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Sowx\r\na=ice-pwd:zawEANq/G8quvWB9bvU7NWH8\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C3:C3:3F:FD:B9:E2:E0:E3:98:E8:99:DF:0A:A1:55:40:48:D9:99:F8:AE:F3:74:38:5D:6B:8C:9B:17:27:52:4C\r\na=setup:active\r\na=mid:a\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\nm=video 9 UDP/TLS/RTP/SAVPF 102 103\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Sowx\r\na=ice-pwd:zawEANq/G8quvWB9bvU7NWH8\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C3:C3:3F:FD:B9:E2:E0:E3:98:E8:99:DF:0A:A1:55:40:48:D9:99:F8:AE:F3:74:38:5D:6B:8C:9B:17:27:52:4C\r\na=setup:active\r\na=mid:v\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:102 H264/90000\r\na=rtcp-fb:102 goog-remb\r\na=rtcp-fb:102 transport-cc\r\na=rtcp-fb:102 ccm fir\r\na=rtcp-fb:102 nack\r\na=rtcp-fb:102 nack pli\r\na=fmtp:102 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:103 rtx/90000\r\na=fmtp:103 apt=102\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:Sowx\r\na=ice-pwd:zawEANq/G8quvWB9bvU7NWH8\r\na=ice-options:trickle\r\na=fingerprint:sha-256 C3:C3:3F:FD:B9:E2:E0:E3:98:E8:99:DF:0A:A1:55:40:48:D9:99:F8:AE:F3:74:38:5D:6B:8C:9B:17:27:52:4C\r\na=setup:active\r\na=mid:d\r\na=sctp-port:5000\r\n", "type": "answer"}} [in /home/luay9/gemini-visual-agent/app.py:303]
2025-05-28 06:06:45,697 INFO root : SDP answer submitted successfully to D-ID. Response: {'session_id': 'AWSALB=QXQ9KMf4rVSkA7NQ/TX5GpQ2EBHCqXyefhz5F/wTI9NCbycS8vtGPp5VTkun4UQTQAIDBvmx6H35bxtdJ2d2+zMYpECc1SSfqqgbLFu/V0puc3hw0nM07wZlFE3u; Expires=Wed, 04 Jun 2025 06:06:45 GMT; Path=/; AWSALBCORS=QXQ9KMf4rVSkA7NQ/TX5GpQ2EBHCqXyefhz5F/wTI9NCbycS8vtGPp5VTkun4UQTQAIDBvmx6H35bxtdJ2d2+zMYpECc1SSfqqgbLFu/V0puc3hw0nM07wZlFE3u; Expires=Wed, 04 Jun 2025 06:06:45 GMT; Path=/; SameSite=None; Secure'} [in /home/luay9/gemini-visual-agent/app.py:308]
2025-05-28 06:06:45,698 INFO werkzeug : 127.0.0.1 - - [28/May/2025 06:06:45] "POST /submit_sdp_answer HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:58,172 INFO root : Sending to Gemini: 'Hallo' [in /home/luay9/gemini-visual-agent/app.py:140]
2025-05-28 06:06:58,173 INFO google_genai.models : AFC is enabled with max remote calls: 10. [in /home/luay9/.venv/lib/python3.9/site-packages/google/genai/models.py:4934]
2025-05-28 06:06:59,757 INFO httpx : HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/eikon-dev-ai-team/locations/us-central1/publishers/google/models/gemini-2.0-flash-001:generateContent "HTTP/1.1 200 OK" [in /home/luay9/.venv/lib/python3.9/site-packages/httpx/_client.py:1025]
2025-05-28 06:06:59,758 INFO google_genai.models : AFC remote call 1 is done. [in /home/luay9/.venv/lib/python3.9/site-packages/google/genai/models.py:4945]
2025-05-28 06:06:59,759 INFO root : Gemini response: Halo! Ada yang bisa saya bantu?
 [in /home/luay9/gemini-visual-agent/app.py:167]
2025-05-28 06:06:59,760 INFO werkzeug : 127.0.0.1 - - [28/May/2025 06:06:59] "POST /get_agent_response HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:06:59,825 INFO root : Start Talk: POST to D-ID URL: https://api.d-id.com/talks/streams/strm_K1L-F6HBQcFLLsKkknGxk_EKS with payload: {"session_id": "AWSALB=ffC+u3jsmb1+38TxZ2pG2Fw3vmBVGK+q2S3qU89BPNHUfnbxGs05lVas5QYOgRyeV01lyaSP7lpQrCqaPZOAEDwGZGBBAUUjUFsbyX9SoWwcwRLQnZ0BK17G+V8U; Expires=Wed, 04 Jun 2025 06:06:43 GMT; Path=/; AWSALBCORS=ffC+u3jsmb1+38TxZ2pG2Fw3vmBVGK+q2S3qU89BPNHUfnbxGs05lVas5QYOgRyeV01lyaSP7lpQrCqaPZOAEDwGZGBBAUUjUFsbyX9SoWwcwRLQnZ0BK17G+V8U; Expires=Wed, 04 Jun 2025 06:06:43 GMT; Path=/; SameSite=None; Secure", "script": {"type": "text", "input": "Halo! Ada yang bisa saya bantu?\n", "provider": {"type": "microsoft", "voice_id": "id-ID-GadisNeural"}}, "config": {"stitch": true}} [in /home/luay9/gemini-visual-agent/app.py:344]
2025-05-28 06:07:00,481 INFO root : Talk stream started successfully with D-ID. Response: {'status': 'started', 'video_id': 'tlk_V09EzqN5HBvXnLapX3VdL'} [in /home/luay9/gemini-visual-agent/app.py:349]
2025-05-28 06:07:00,482 INFO werkzeug : 127.0.0.1 - - [28/May/2025 06:07:00] "POST /start_talk_stream HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:07:02,662 INFO werkzeug : 127.0.0.1 - - [28/May/2025 06:07:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:07:26,905 INFO root : Sending to Gemini: 'Bagaimana cara memilah sampah' [in /home/luay9/gemini-visual-agent/app.py:140]
2025-05-28 06:07:26,906 INFO google_genai.models : AFC is enabled with max remote calls: 10. [in /home/luay9/.venv/lib/python3.9/site-packages/google/genai/models.py:4934]
2025-05-28 06:07:29,902 INFO httpx : HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/eikon-dev-ai-team/locations/us-central1/publishers/google/models/gemini-2.0-flash-001:generateContent "HTTP/1.1 200 OK" [in /home/luay9/.venv/lib/python3.9/site-packages/httpx/_client.py:1025]
2025-05-28 06:07:29,903 INFO google_genai.models : AFC remote call 1 is done. [in /home/luay9/.venv/lib/python3.9/site-packages/google/genai/models.py:4945]
2025-05-28 06:07:29,904 INFO root : Gemini response: Berdasarkan dokumen yang tersedia, berikut adalah cara memilah sampah:

1.  **Kenali Jenis Sampah:**
    *   **Organik:** Sampah yang mudah diuraikan secara alami.
    *   **Anorganik:** Sampah yang sulit diuraikan secara alami, atau membutuhkan waktu sangat lama untuk terurai.
    *   **Sampah B3:** Sisa usaha atau kegiatan manusia yang dapat memberikan dampak berbahaya, baik jangka pendek maupun jangka panjang.

Dengan memisahkan sampah sesuai jenisnya, proses daur ulang dan pengelolaan sampah dapat dilakukan dengan lebih efektif dan efisien.
 [in /home/luay9/gemini-visual-agent/app.py:167]
2025-05-28 06:07:29,904 INFO werkzeug : 127.0.0.1 - - [28/May/2025 06:07:29] "POST /get_agent_response HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:07:30,005 INFO root : Start Talk: POST to D-ID URL: https://api.d-id.com/talks/streams/strm_K1L-F6HBQcFLLsKkknGxk_EKS with payload: {"session_id": "AWSALB=ffC+u3jsmb1+38TxZ2pG2Fw3vmBVGK+q2S3qU89BPNHUfnbxGs05lVas5QYOgRyeV01lyaSP7lpQrCqaPZOAEDwGZGBBAUUjUFsbyX9SoWwcwRLQnZ0BK17G+V8U; Expires=Wed, 04 Jun 2025 06:06:43 GMT; Path=/; AWSALBCORS=ffC+u3jsmb1+38TxZ2pG2Fw3vmBVGK+q2S3qU89BPNHUfnbxGs05lVas5QYOgRyeV01lyaSP7lpQrCqaPZOAEDwGZGBBAUUjUFsbyX9SoWwcwRLQnZ0BK17G+V8U; Expires=Wed, 04 Jun 2025 06:06:43 GMT; Path=/; SameSite=None; Secure", "script": {"type": "text", "input": "Berdasarkan dokumen yang tersedia, berikut adalah cara memilah sampah:\n\n1.  **Kenali Jenis Sampah:**\n    *   **Organik:** Sampah yang mudah diuraikan secara alami.\n    *   **Anorganik:** Sampah yang sulit diuraikan secara alami, atau membutuhkan waktu sangat lama untuk terurai.\n    *   **Sampah B3:** Sisa usaha atau kegiatan manusia yang dapat memberikan dampak berbahaya, baik jangka pendek maupun jangka panjang.\n\nDengan memisahkan sampah sesuai jenisnya, proses daur ulang dan pengelolaan sampah dapat dilakukan dengan lebih efektif dan efisien.\n", "provider": {"type": "microsoft", "voice_id": "id-ID-GadisNeural"}}, "config": {"stitch": true}} [in /home/luay9/gemini-visual-agent/app.py:344]
2025-05-28 06:07:30,695 INFO root : Talk stream started successfully with D-ID. Response: {'status': 'started', 'video_id': 'tlk_ivp0solV7v4DVdmYxvT5X'} [in /home/luay9/gemini-visual-agent/app.py:349]
2025-05-28 06:07:30,696 INFO werkzeug : 127.0.0.1 - - [28/May/2025 06:07:30] "POST /start_talk_stream HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
2025-05-28 06:08:11,745 INFO root : Attempting to destroy D-ID stream: DELETE to https://api.d-id.com/talks/streams/strm_K1L-F6HBQcFLLsKkknGxk_EKS with body {"session_id": "AWSALB=ffC+u3jsmb1+38TxZ2pG2Fw3vmBVGK+q2S3qU89BPNHUfnbxGs05lVas5QYOgRyeV01lyaSP7lpQrCqaPZOAEDwGZGBBAUUjUFsbyX9SoWwcwRLQnZ0BK17G+V8U; Expires=Wed, 04 Jun 2025 06:06:43 GMT; Path=/; AWSALBCORS=ffC+u3jsmb1+38TxZ2pG2Fw3vmBVGK+q2S3qU89BPNHUfnbxGs05lVas5QYOgRyeV01lyaSP7lpQrCqaPZOAEDwGZGBBAUUjUFsbyX9SoWwcwRLQnZ0BK17G+V8U; Expires=Wed, 04 Jun 2025 06:06:43 GMT; Path=/; SameSite=None; Secure"} [in /home/luay9/gemini-visual-agent/app.py:371]
2025-05-28 06:08:12,476 INFO root : D-ID stream strm_K1L-F6HBQcFLLsKkknGxk_EKS destroyed successfully. Status: 200 [in /home/luay9/gemini-visual-agent/app.py:375]
2025-05-28 06:08:12,477 INFO werkzeug : 127.0.0.1 - - [28/May/2025 06:08:12] "POST /destroy_did_session HTTP/1.1" 200 - [in /home/luay9/.venv/lib/python3.9/site-packages/werkzeug/_internal.py:97]
